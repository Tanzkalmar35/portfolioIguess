<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="Fabian Holler" name="author">
    <meta content="Software development, ui, ux, js, html, css, portfolio" name="keywords">
    <meta content="My personal portfolio website" name="description">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'black': '#000',
                        'background': '#141414',
                        'white': '#fff',
                        'dark-highlight': '#888',
                    },
                }
            }
        }
    </script>

    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">

    <link href="../styles/Global.css" rel="stylesheet">

    <title>Fabian Holler | My Work</title>
</head>
<body class="bg-background text-white overflow-hidden" id="workpage">
<div class="w-screen h-fit flex justify-center gap-14 mt-10 fixed">
    <a class="cursor-pointer" href="/about">
        <h2>
            about
        </h2>
    </a>
    <a class="cursor-pointer" href="/work">
        <h2>
            work
        </h2>
    </a>
</div>
<div class="w-screen h-screen flex items-center left-[50%]" id="workpage-content">


    <div class="[&>*]:w-[40vmin] [&>*]:h-[56vmin] [&>*]:object-cover [&>*]:object-right flex gap-[4vmin]"
         id="image-container">
        <!-- TODO: Fill with mockups of projects -->
        <img alt="handy" class="sliding-image" onclick="expandImage(this)" src="../assets/img/handy.jpg"/>
        <img alt="linux" class="sliding-image" onclick="expandImage(this)" src="../assets/img/linux.jpg"/>
        <img alt="office" class="sliding-image" onclick="expandImage(this)" src="../assets/img/office.jpg"/>
        <img alt="openai" class="sliding-image" onclick="expandImage(this)" src="../assets/img/openai.jpg"/>
        <img alt="pi" class="sliding-image" onclick="expandImage(this)" src="../assets/img/pi.jpg"/>
        <img alt="somecode" class="sliding-image" onclick="expandImage(this)" src="../assets/img/somecode.jpg"/>
    </div>

    <div class="hidden fixed bottom-0 right-0 w-screen h-screen overflow-hidden" id="full-screen-container">
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.26/bundled/lenis.min.js"></script>
    <script src="../animations.js" type="module"></script>
</div>
<script>
    //TODO: Improve by: Make it smoother, abstract it
    function expandImage(image) {
        const fullScreenContainer = document.getElementById("full-screen-container");
        const fullScreenImage = document.createElement("img");
        fullScreenImage.src = image.src;
        fullScreenImage.classList.add("w-screen", "h-screen", "object-cover", "object-right");

        fullScreenContainer.innerHTML = '';
        fullScreenContainer.appendChild(fullScreenImage);

        gsap.to(fullScreenImage, {
            width: "100%",
            height: "100%",
            duration: 2,
            onComplete: () => {
                // Scroll handler to reverse the animation on scroll
                window.addEventListener('scroll', reverseAnimation);
            },
        });

        fullScreenContainer.classList.remove("hidden");
    }

    function reverseAnimation() {
        const fullScreenContainer = document.getElementById("full-screen-container");
        const fullScreenImage = fullScreenContainer.querySelector("img");

        gsap.to(fullScreenImage, {
            width: 0,
            height: 0,
            onComplete: () => {
                // Remove the full-screen image and event listener
                fullScreenContainer.innerHTML = '';
                fullScreenContainer.classList.add("hidden");
                window.removeEventListener('scroll', reverseAnimation);
            },
        });
    }
</script>
</body>
</html>
